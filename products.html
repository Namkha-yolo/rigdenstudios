<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Products - Rigden Studios</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <!-- NAVBAR (shared) -->
  <nav class="navbar">
    <div class="nav-container">
      <div class="logo">RIGDEN STUDIOS</div>
      <div class="nav-links">
        <a href="index.html">Home</a>
        <a href="products.html">Products</a>
        <a href="checkout.html">Cart (<span id="cart-count">0</span>)</a>
      </div>
    </div>
  </nav>

  <!-- PRODUCTS SECTION -->
  <main>
    <section class="products-section">
      <div class="container">
        <h1>Our Hoodies</h1>
        <div class="products-grid" id="products-grid">
          <!-- JavaScript will inject product cards here -->
        </div>
      </div>
    </section>
  </main>

  <!-- CART NOTIFICATION (hidden by default) -->
  <div class="cart-notification" id="cart-notification">
    Item added to cart!
  </div>

  <!-- FOOTER (shared) -->
  <footer class="footer">
    <p>&copy; 2024 Rigden Studios. All rights reserved.</p>
  </footer>

  <!-- SCRIPTS: inject product data & handle cart logic -->
  <script>
    // Product data
    const products = [
      {
        id: 1,
        name: "Classic Black Hoodie",
        price: 79.99,
        image: "hoodie-black.jpg"
      },
      {
        id: 2,
        name: "Signature Gray Hoodie",
        price: 79.99,
        image: "hoodie-gray.jpg"
      },
      {
        id: 3,
        name: "Limited Edition White",
        price: 89.99,
        image: "hoodie-white.jpg"
      },
      {
        id: 4,
        name: "Urban Navy Hoodie",
        price: 84.99,
        image: "hoodie-navy.jpg"
      }
    ];

    // Initialize cart from localStorage or empty array
    let cart = JSON.parse(localStorage.getItem("cart")) || [];

    // Update cart count in navbar
    function updateCartCount() {
      document.getElementById("cart-count").textContent = cart.length;
    }

    // Show notification when item is added
    function showNotification() {
      const notification = document.getElementById("cart-notification");
      notification.style.display = "block";
      setTimeout(() => {
        notification.style.display = "none";
      }, 2000);
    }

    // Add product to cart
    function addToCart(productId) {
      const product = products.find((p) => p.id === productId);
      const sizeSelect = document.getElementById(`size-${productId}`);
      const selectedSize = sizeSelect.value;

      const cartItem = {
        ...product,
        size: selectedSize,
        quantity: 1,
        cartId: Date.now() // Unique identifier
      };

      cart.push(cartItem);
      localStorage.setItem("cart", JSON.stringify(cart));
      updateCartCount();
      showNotification();
    }

    // Render product cards on page load
    function renderProducts() {
      const productsGrid = document.getElementById("products-grid");

      products.forEach((product) => {
        const card = document.createElement("div");
        card.className = "product-card";

        card.innerHTML = `
          <div class="product-image">
            ${product.name}
          </div>
          <div class="product-info">
            <h3 class="product-title">${product.name}</h3>
            <p class="product-price">$${product.price.toFixed(2)}</p>
            <div class="size-selector">
              <label for="size-${product.id}">Size:</label>
              <select id="size-${product.id}">
                <option value="S">Small</option>
                <option value="M">Medium</option>
                <option value="L">Large</option>
                <option value="XL">X-Large</option>
              </select>
            </div>
            <button class="add-to-cart" onclick="addToCart(${product.id})">
              ADD TO CART
            </button>
          </div>
        `;

        productsGrid.appendChild(card);
      });
    }

    // Initialize on load
    updateCartCount();
    renderProducts();
  </script>
</body>
</html>
